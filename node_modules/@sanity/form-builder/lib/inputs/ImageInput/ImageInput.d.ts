import React from 'react';
import PatchEvent from '../../PatchEvent';
import { Marker, Reference, Type } from '../../typedefs';
import { ResolvedUploader, Uploader, UploaderResolver } from '../../sanity/uploads/typedefs';
import { Observable } from 'rxjs';
import { Path } from '../../typedefs/path';
declare type FieldT = {
    name: string;
    type: Type;
};
interface Value {
    _upload?: any;
    asset?: Reference;
    hotspot?: any;
    crop?: any;
}
export declare type Props = {
    value?: Value;
    type: Type;
    level: number;
    onChange: (arg0: PatchEvent) => void;
    resolveUploader: UploaderResolver;
    materialize: (arg0: string) => Observable<Record<string, any>>;
    onBlur: () => void;
    onFocus: (path: Path) => void;
    readOnly: boolean | null;
    focusPath: Array<any>;
    markers: Array<Marker>;
};
declare type ImageInputState = {
    isUploading: boolean;
    uploadError: Error | null;
    isAdvancedEditOpen: boolean;
    isSelectAssetOpen: boolean;
    hasFocus: boolean;
};
export default class ImageInput extends React.PureComponent<Props, ImageInputState> {
    _focusArea: any;
    uploadSubscription: any;
    state: {
        isUploading: boolean;
        uploadError: any;
        isAdvancedEditOpen: boolean;
        isSelectAssetOpen: boolean;
        hasFocus: boolean;
    };
    handleRemoveButtonClick: (event: React.SyntheticEvent<any, Event>) => void;
    clearUploadStatus(): void;
    cancelUpload(): void;
    handleCancelUpload: () => void;
    handleSelectFile: (files: FileList) => void;
    uploadFirstAccepted(fileList: FileList): void;
    uploadWith(uploader: Uploader, file: File): void;
    getConstrainedImageSrc: (assetDocument: Record<string, any>) => string;
    renderMaterializedAsset: (assetDocument: Record<string, any>) => JSX.Element;
    renderUploadState(uploadState: any): JSX.Element;
    handleFieldChange: (event: PatchEvent, field: FieldT) => void;
    handleStartAdvancedEdit: () => void;
    handleStopAdvancedEdit: () => void;
    handleOpenSelectAsset: () => void;
    handleCloseSelectAsset: () => void;
    handleSelectAsset: (asset: Record<string, any>) => void;
    isImageToolEnabled(): boolean;
    renderAdvancedEdit(fields: Array<FieldT>): JSX.Element;
    renderFields(fields: Array<FieldT>): JSX.Element[];
    renderField(field: FieldT): JSX.Element;
    focus(): void;
    handleFocus: (path: import("../../typedefs/path").PathSegment[]) => void;
    handleBlur: (event: any) => void;
    setFocusArea: (el: any) => void;
    getUploadOptions: (file: File) => ResolvedUploader[];
    handleUpload: ({ file, uploader }: {
        file: any;
        uploader: any;
    }) => void;
    render(): JSX.Element;
}
export {};
