import Document from './Document';
import Mutation from './Mutation';
import SquashingBuffer from './SquashingBuffer';
import { Doc } from './types';
declare class Commit {
    mutations: Mutation[];
    tries: number;
    constructor(mutations: any);
    apply(doc: Doc): Doc;
    squash(doc: Doc): Mutation;
}
export default class BufferedDocument {
    mutations: Mutation[];
    document: Document;
    LOCAL: Doc;
    commits: Array<Commit>;
    buffer: SquashingBuffer;
    onMutation: Function;
    onRebase: Function;
    onDelete: Function;
    commitHandler: Function;
    committerRunning: boolean;
    constructor(doc: any);
    reset(doc: any): void;
    onConsistencyChanged: Function;
    readonly inconsitentAt: Date;
    add(mutation: Mutation): void;
    arrive(mutation: Mutation): void;
    commit(): void;
    performCommits(): void;
    _cycleCommitter(): void;
    handleDocRebase(msg: any): void;
    handleDocumentDeleted(): void;
    handleDocMutation(msg: any): void;
    rebase(): void;
}
export {};
